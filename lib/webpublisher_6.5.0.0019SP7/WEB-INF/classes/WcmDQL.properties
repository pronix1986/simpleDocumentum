#****************************************************************************
#
# Confidential Property of Documentum, Inc.
# (c) Copyright Documentum, Inc. 2002.
# All Rights reserved.
# May not be used without prior written agreement
# signed by a Documentum corporate officer.
#
# ***************************************************************************
#
# Project        WebPublisher
# Description    WCM default DQL Properties File
# Created by     Gary Tang (gary.tang@documentum.com)
# Created on     April 24, 2002
#
#****************************************************************************
#
# PVCS Maintained Data
#
# Revision       $Revision: 108$
# Modified by    $Author: Vishal Agrawal$
# Modified on    $Modtime: $
#
# Log at EOF
#
#****************************************************************************
#WCMFOLDER
wcmfolder.type=select r_type_name as type_name, r_type_name as label_text from dmi_type_info where any r_supertype='wcm_channel_fld'

#LOCALE
wcmlocale.find=select r_object_id,title,object_name,fallback_locale from wcm_locale where folder('<SUBST[%0%]>') and <SUBST[%1%]>='<SUBST[%2%]>'
wcmlocale.all=select UPPER(title)<SUBST[,%0%]> from wcm_locale where folder('<SUBST[%1%]>') order by 1
wcmlocale.all.locale=select <SUBST[%0%]> from wcm_locale
wcmlocale.document=select r_object_id from dm_document where language_code='<SUBST[%0%]>' and  (r_policy_id <> '0000000000000000' OR r_policy_id <>'')

# Channel
wcmchannel.default=SELECT UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder, '<SUBST[%2%]>' AS selectable FROM wcm_channel WHERE (is_private=0 OR owner_name=USER) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ and a_is_template=%3%]> ORDER BY 1,r_object_id
wcmchannel.default.0=r_object_id,r_object_type,object_name,owner_name
wcmchannel.folder=SELECT UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder, '<SUBST[%3%]>' AS selectable FROM wcm_channel_fld WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> ORDER BY 1,r_object_id
wcmchannel.folder.0=r_object_id,r_object_type,object_name,owner_name
wcmchannel.protectedacl=select object_name from dm_acl where acl_class=0 and r_is_internal<> 1 and   object_name <> '<SUBST[%0%]>' and (owner_name='dm_dbo' or owner_name='<SUBST[%1%]>')  and object_name not like 'dm_acl%' ORDER BY object_name

# 0 - Attribute List
# 1 - folder ID
# 2 - Object name filter (Starts with)
# 3 - Version Label/Status Filter
# 4 - "(All)" keyword, use with #3
# 5 - language code list (no fallback)
# 6 - language code (with fallback)
# 7 - fallback language code list (with fallback, must use with #5)
# 8 - list of a_special_app value used to exclude document in change set
# 9 - exclude replica in change set
wcmchannel.document=SELECT DISTINCT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder, 'y' AS selectable FROM dm_document <SUBST[%4% ]>d WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label IN (%3%)]><SUBST[ AND language_code IN (%5%)]><SUBST[ AND (d.language_code='%6%']><SUBST[ OR (d.language_code IN (%7%) AND d.r_object_id NOT IN (SELECT r.parent_id FROM dm_relation r WHERE r.parent_id = d.r_object_id AND r.relation_name = 'DM_TRANSLATION_OF' AND r.child_id in]><SUBST[ (SELECT d2.i_chronicle_id FROM dm_document d2 WHERE d2.language_code IN (%7%)))))]><SUBST[ AND a_special_app IN (%8%) AND (r_lock_owner=USER OR r_lock_owner=' ')]><SUBST[%9%]> ORDER BY 1,r_object_id
wcmchannel.folderanddocument=SELECT 1, UPPER(object_name) <SUBST[,%0%]> ,'1' AS isfolder, '<SUBST[%10%]>' AS selectable FROM wcm_channel_fld WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> UNION SELECT 2,UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder,'y' AS selectable FROM dm_document <SUBST[%4% ]>d WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label IN (%3%)]><SUBST[ AND language_code IN (%5%)]><SUBST[ AND (d.language_code='%6%']><SUBST[ OR (d.language_code IN (%7%) AND d.r_object_id NOT IN (SELECT r.parent_id FROM dm_relation r WHERE r.parent_id = d.r_object_id AND r.relation_name = 'DM_TRANSLATION_OF' AND r.child_id in]><SUBST[ (SELECT d2.i_chronicle_id FROM dm_document d2 WHERE d2.language_code IN (%7%)))))]><SUBST[ AND a_special_app IN (%8%) AND (r_lock_owner=USER OR r_lock_owner=' ')]><SUBST[%9%]> ORDER BY 1,2

# Browser Tree Channel node
channelnode.default=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_channel where (is_private=0 or owner_name=USER) and a_is_hidden=false and a_archive=false and a_is_template=false order by 1
channelnode.folder=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_channel_fld where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false order by 1
#channelnode.folderanddocument=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_sysobject where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false AND ( (r_object_type='dm_document' AND ANY r_version_label IN ('WIP')) OR (r_object_type='wcm_channel_fld') )
channelnode.folderanddocument=select 1, upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_channel_fld where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false UNION SELECT 2,upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner FROM dm_document d WHERE FOLDER(ID('<SUBST[%0%]>')) AND a_is_hidden=false AND a_archive=false ORDER BY 1,2

# Browser Tree Site Templates node
sitetemplatenode.default=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_channel where (is_private=0 or owner_name=USER) and a_is_hidden=false and a_archive=false and a_is_template=true order by 1

#facet query
facet_mod=select DISTINCT d.object_name, d.r_object_id, d.title, d.r_object_type, t.object_name  as taxonomy from dm_category d, dm_taxonomy t where d.r_object_id IN (SELECT parent_id FROM dm_category_assign where child_id='<SUBST[%0%]>' AND assign_status LIKE 'assigned%' )and t.r_object_id in (SELECT  c.r_object_id FROM wcm_channel a, dm_relation b, dm_taxonomy c where a.r_object_id in (<SUBST[%1%]>) and a.r_object_id = b.parent_id and b.child_id = c.r_object_id and b.relation_name='wcm_taxonomy_link')and any d.i_ancestor_id = t.r_object_id

facet_taxonomies=select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject where r_object_id ='<SUBST[%0%]>') and (r_object_type='wcm_channel_fld' or r_object_type='wcm_channel')
#Clonable Channel
wcmchannel.clonable=SELECT object_name,r_object_id FROM wcm_channel WHERE (is_private=0 OR owner_name=USER) AND a_is_hidden=false AND a_archive=false AND a_is_template=<SUBST[%0%]> AND is_clonable=true AND r_object_id!='<SUBST[%1%]>' ORDER BY 1
wcmchannel.clonable_count=SELECT COUNT(*) AS total FROM wcm_channel WHERE (is_private=0 OR owner_name=USER) AND a_is_hidden=false AND a_archive=false AND a_is_template=<SUBST[%0%]> AND is_clonable=true AND r_object_id!='<SUBST[%1%]>'

#WpFolderNavigationNode
navigationnode.default=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_folder where folder('<SUBST[%0%]>') and a_is_hidden=false and a_archive=false order by 1
navigationnode.folder=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_folder where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false order by 1

#Category
#taxonomy=SELECT 1,UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'1' AS iswcmroot, '<SUBST[%3%]>' AS selectable FROM dm_folder WHERE ( (r_object_type='wcm_category') AND (FOLDER('/WebPublisher Configuration')) ) OR ( (r_object_type='dm_taxonomy') AND (a_is_hidden=false AND a_archive=false <SUBST[ AND FOLDER('%1%')]><SUBST[ AND lower(object_name) LIKE lower('%2%%')]>) )
taxonomy=SELECT 1, UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'1' AS iswcmroot, '<SUBST[%3%]>' AS selectable FROM wcm_category WHERE FOLDER('/WebPublisher Configuration') UNION SELECT 2, UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'' AS iswcmroot, '<SUBST[%3%]>' AS selectable FROM dm_taxonomy WHERE a_is_hidden=false AND a_archive=false <SUBST[ AND FOLDER('%1%')]><SUBST[ AND lower(object_name) LIKE lower('%2%%')]> ORDER BY 1,2
tax1=SELECT 1, UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'1' AS iswcmroot, '<SUBST[%3%]>' AS selectable FROM wcm_category WHERE FOLDER('/WebPublisher Configuration')
tax2=SELECT 2, UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'' AS iswcmroot, '<SUBST[%3%]>' AS selectable FROM dm_taxonomy WHERE a_is_hidden=false AND a_archive=false <SUBST[ AND FOLDER('%1%')]><SUBST[ AND lower(object_name) LIKE lower('%2%%')]>
taxonomy.0=r_object_id,r_object_type,object_name,owner_name
category.folder=SELECT UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'' AS iswcmroot FROM dm_category WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> ORDER BY 1,r_object_id
category.folder.0=r_object_id,r_object_type,object_name,owner_name
wcmcategory.folder=SELECT UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder,'' AS iswcmroot FROM wcm_category WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> ORDER BY 1
wcmcategory.folder.0=r_object_id,r_object_type,object_name,owner_name
category.content_count=SELECT COUNT(*) AS total from dm_category_assign where parent_id='<SUBST[%0%]>'

# 0 - Attribute List
# 1 - folder ID
# 2 - Object name filter (Starts with)
# 3 - Version Label/Status Filter
# 4 - Version Label/Status NOT Filter
wcmcategory.template=SELECT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document d WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label = '%3%']><SUBST[ AND NOT ANY r_version_label = '%4%']> ORDER BY 1,r_object_id
wcmcategory.folderandtemplate=SELECT 1,UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder FROM wcm_category WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> UNION SELECT 2,UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document d WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label = '%3%']><SUBST[ AND NOT ANY r_version_label = '%4%']> ORDER BY 1,2,3

# 0 - Attribute List
# 1 - category ID
# 2 - Object name filter (Starts with)
# 3 - Version Label/Status Filter
# 4 - "(All)" keyword, use with #3
# 5 - language code list (no fallback)
# 6 - list of a_special_app value used to exclude document in change set
# 7 - exclude replica in change set
wcmcategory.content=SELECT DISTINCT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder,'' AS iswcmroot FROM dm_document <SUBST[%4% ]>d WHERE r_object_id IN (SELECT parent_id from dm_relation where relation_name='wcm_category' AND child_id='<SUBST[%1%]>') AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label IN (%3%)]><SUBST[ AND language_code IN (%5%)]><SUBST[ AND a_special_app IN (%6%) AND (r_lock_owner=USER OR r_lock_owner=' ')]><SUBST[%7%]> ORDER BY 1
wcmcategory.folderandcontent=SELECT 1, UPPER(object_name) <SUBST[,%0%]> ,'1' AS isfolder,'' AS iswcmroot, '<SUBST[%8%]>' AS selectable FROM wcm_category WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> UNION SELECT 2,UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder,'' AS iswcmroot, 'y' AS selectable FROM dm_document <SUBST[%4% ]>d WHERE r_object_id IN (SELECT parent_id from dm_relation where relation_name='wcm_category' AND child_id='<SUBST[%1%]>') AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label IN (%3%)]><SUBST[ AND language_code IN (%5%)]><SUBST[ AND a_special_app IN (%6%) AND (r_lock_owner=USER OR r_lock_owner=' ')]><SUBST[%7%]> ORDER BY 1,2
category.content=SELECT DISTINCT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder,'' AS iswcmroot FROM dm_document <SUBST[%4% ]>d WHERE i_chronicle_id IN (SELECT child_id from dm_category_assign where parent_id='<SUBST[%1%]>' AND assign_status LIKE 'assigned%') AND a_is_hidden=false AND a_archive=false AND a_is_template=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label IN (%3%)]><SUBST[ AND language_code IN (%5%)]><SUBST[ AND a_special_app IN (%6%) AND (r_lock_owner=USER OR r_lock_owner=' ')]><SUBST[%7%]> ORDER BY 1
category.folderandcontent=SELECT 1, UPPER(object_name) <SUBST[,%0%]> ,'1' AS isfolder,'' AS iswcmroot, '<SUBST[%8%]>' AS selectable FROM dm_category WHERE FOLDER(ID('<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]> UNION SELECT 2,UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder,'' AS iswcmroot, 'y' AS selectable FROM dm_document <SUBST[%4% ]>d WHERE i_chronicle_id IN (SELECT child_id from dm_category_assign where parent_id='<SUBST[%1%]>' AND assign_status LIKE 'assigned%') AND a_is_hidden=false AND a_archive=false AND a_is_template=false<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND ANY r_version_label IN (%3%)]><SUBST[ AND language_code IN (%5%)]><SUBST[ AND a_special_app IN (%6%) AND (r_lock_owner=USER OR r_lock_owner=' ')]><SUBST[%7%]> ORDER BY 1,2

#queries to bring up the Category Tab with the caching mechanism introduced for Cisco
facet_new = SELECT parent_id FROM dm_category_assign where child_id='<SUBST[%0%]>' AND assign_status LIKE 'assigned%'
facet.getTaxonomyID = SELECT child_id FROM dm_relation where relation_name like 'wcm_taxonomy_link' and parent_id IN (select i_cabinet_id from dm_sysobject(All) where r_object_id='<SUBST[%0%]>')

#CategoryNavigationNode
taxonomynode=SELECT 1,UPPER(object_name),r_object_id,object_name,r_object_type,r_link_cnt FROM wcm_category WHERE FOLDER('/WebPublisher Configuration') AND a_is_hidden=false AND a_archive=false UNION select 2,upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt from dm_taxonomy where a_is_hidden=false and a_archive=false<SUBST[ AND FOLDER('%0%')]> order by 1,2
categorynode=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt from dm_category where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false order by 1
wcmcategorynode=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_category where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false order by 1
wcmcategorynode.default=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_category where folder('/WebPublisher Configuration/Content Templates') and a_is_hidden=false and a_archive=false order by 1

maincategory.count=select count(*) as folder_count from dm_taxonomy where <SUBST[ FOLDER('%0%')]>
categorynode.count=select count(*) as folder_count from dm_category where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false
wcmcategorynode.count=select count(*) as folder_count from wcm_category where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false

taxonomynode.withObject=SELECT 1,UPPER(object_name),r_object_id,object_name,r_object_type,r_link_cnt FROM wcm_category WHERE FOLDER('/WebPublisher Configuration') AND a_is_hidden=false AND a_archive=false and r_object_id='<SUBST[%1%]>' UNION select 2,upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt from dm_taxonomy where a_is_hidden=false and a_archive=false<SUBST[ AND FOLDER('%0%')]>  and r_object_id='<SUBST[%1%]>'  order by 1,2
categorynode.withObject=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt from dm_category where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false and r_object_id='<SUBST[%1%]>' order by 1
wcmcategorynode.withObject=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from wcm_category where folder(ID('<SUBST[%0%]>')) and a_is_hidden=false and a_archive=false and r_object_id='<SUBST[%1%]>'  order by 1

#CATEGORYFOLDER
newcategory.protetcedsite=SELECT object_name,acl_name from wcm_channel where acl_name <>'<SUBST[%0%]>' order by object_name
category.class=SELECT r_object_id, object_name FROM dm_category_class ORDER BY object_name
category.duplicate.check=SELECT r_object_id from dm_category where object_name = <SUBST[%0%]> and class_id = '<SUBST[%1%]>'

#WORKFLOWLIST
wcmworkflow.all=select r_object_id,object_name from dm_process where folder ('/System/Applications/WebPublisher') and  r_definition_state=2 order by object_name

# MULTI SITE used by WcmContent::areMultiSitesToPushTo
multisites.findchannel=select r_object_id, object_name from wcm_channel where r_object_id in (select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject where r_object_id = '<SUBST[%0%]>')) and r_object_id in (select source_folder_id from dm_webc_config) order by r_object_id
multisites.findchannelAll=select r_object_id, object_name from wcm_channel where r_object_id in (select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject(ALL) where r_object_id = '<SUBST[%0%]>')) order by r_object_id
#multisites.findchannel=select r_object_id, object_name from wcm_channel where r_object_id in (select i_ancestor_id from dm_folder where r_object_id = '<SUBST[%0%]>') order by r_object_id
multisites.findchannel1=select r_object_id, object_name from wcm_channel where r_object_id in (select i_ancestor_id from dm_folder where r_object_id ='<SUBST[%0%]>') order by r_object_id
#multisites.findwebcacheconfig=select r_object_id, title, object_name, effective_label from dm_webc_config where is_active=1 and effective_label <> ' ' and any version_labels in ('<SUBST[%0%]>') and source_folder_id='<SUBST[%1%]>' <SUBST[%2%]>
multisites.findwebcacheconfig=select title, effective_label,c.object_name, c.r_object_id, t1.language_code from dm_webc_config c, dm_webc_target t1 where is_active=1 <SUBST[%0%]><SUBST[ AND any version_labels = '%1%']> and source_folder_id = '<SUBST[%2%]>' and t1.object_name=c.object_name and t1.r_object_id not in (select r_object_id from dm_webc_target where any a_extended_properties = 'REPLICATION_TARGET') and c.object_name in ( select t.object_name from dm_webc_target t where t.r_object_id=t1.r_object_id and ((t.language_code = ' ' and t.global_publishing=1 and ((any (t.global_locales is null and t.i_position=-1)) or (any t.global_locales in (<SUBST[%3%]>)))) or (t.language_code in (' ',<SUBST[%4%]>) and t.global_publishing=0))) <SUBST[%5%]>
multisites.findwebcacheconfigForFolderWebCab=select title, effective_label,c.object_name, c.r_object_id, t1.language_code from dm_webc_config c, dm_webc_target t1 where is_active=1 <SUBST[%0%]><SUBST[ AND any version_labels = '%1%']> and source_folder_id = '<SUBST[%2%]>' and t1.object_name=c.object_name and t1.r_object_id not in (select r_object_id from dm_webc_target where any a_extended_properties = 'REPLICATION_TARGET') <SUBST[%4%]>
multisites.findwebcacheconfig2=select distinct c.r_object_id, c.title, c.effective_label,c.object_name, t1.language_code from dm_webc_config c, dm_webc_target t1 where is_active=1 and c.object_name=t1.object_name and t1.r_object_id not in (select r_object_id from dm_webc_target where any a_extended_properties = 'REPLICATION_TARGET') <SUBST[AND any version_labels = '%0%']>  <SUBST[and source_folder_id = '%1%']> <SUBST[and any (source_formats is null and i_position = -1 or any source_formats = '%2%')]> and c.object_name in ( select t.object_name from dm_webc_target t where t.r_object_id=t1.r_object_id and ((t.language_code = ' ' and t.global_publishing=1 and ((any (t.global_locales is null and t.i_position=-1)) or (any t.global_locales in (<SUBST[%3%]>)))) or (t.language_code in (' ',<SUBST[%4%]>) and t.global_publishing=0)))
multisites.findchannel.nowebcache=select r_object_id, object_name from wcm_channel where r_object_id in (select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject where r_object_id = '<SUBST[%0%]>')) order by r_object_id

#WEBPUBLISHING SERVICE
WcmWebPublishingService.getallwebcache=select distinct r_object_id, object_name, version_labels, source_folder_id, title from dm_webc_config where is_active=1
WcmWebPublishingService.isObjectAlreadyPublished=select distinct r_object_id from dm_dbo.dm_webc_<SUBST[%0%]>_s c where c.r_object_id='<SUBST[%1%]>' <SUBST[ and c.i_full_format='%2%']> and  c.r_object_id in (select r_object_id from dm_document d, dm_webc_config w where w.is_active=1 AND d.r_object_id='<SUBST[%1%]>' and w.r_object_id='<SUBST[%3%]>' and c.object_name=d.object_name) and c.r_modify_date = date('<SUBST[%4%]>', 'mm/dd/yyyy hh:mm:ss') ORDER BY r_object_id
#SCS5.2.x source table do not have r_modify_date column
WcmWebPublishingService.isObjectAlreadyPublished.SCS52=select distinct r_object_id from dm_dbo.dm_webc_<SUBST[%0%]>_s c where c.r_object_id='<SUBST[%1%]>' <SUBST[ and c.i_full_format='%2%']> and  c.r_object_id in (select r_object_id from dm_document d, dm_webc_config w where w.is_active=1 AND d.r_object_id='<SUBST[%1%]>' and w.r_object_id='<SUBST[%3%]>' and c.object_name=d.object_name) ORDER BY r_object_id


#ICE WEBCACHE RELATED
#WcmIceUtil.getwebcache = select c.source_folder_id, c.title, c.r_object_id, c.object_name, rt.target_id from dm_webc_config c , dm_webc_config_r rt where c.is_active = 1 and c.r_object_id = rt.r_object_id and rt.i_position = -1 and rt.target_id not in (select r_object_id from dm_webc_target where any a_extended_properties = 'REPLICATION_TARGET') and c.source_folder_id='<SUBST[%0%]>' and any c.version_labels='<SUBST[%1%]>' <SUBST[%2%]> <SUBST[ and c.object_name in (select t.object_name from dm_webc_target t where t.language_code in (%3%) and c.object_name = t.object_name)]> ORDER BY c.r_object_id
WcmIceUtil.getwebcache=select c.source_folder_id, c.title, c.r_object_id, c.object_name,  t.r_object_id as target_id from dm_webc_config c , dm_webc_target t where c.is_active = 1 and c.object_name = t.object_name and t.r_object_id not in (select r_object_id from dm_webc_target where any a_extended_properties = 'REPLICATION_TARGET') and c.source_folder_id='<SUBST[%0%]>' and any c.version_labels='<SUBST[%1%]>' <SUBST[%2%]> <SUBST[ and c.object_name in (select t1.object_name from dm_webc_target t1 where t1.language_code in (%3%) and t.r_object_id = t1.r_object_id)]> ORDER BY c.r_object_id

#Change Sets View
changesets.list=SELECT distinct upper(object_name) <SUBST[,%0%]> FROM wcm_change_set where FOLDER (ID('<SUBST[%1%]>')) AND auto_ind = 0 AND a_special_app <> '1' AND a_is_hidden = false AND a_archive = false<SUBST[ AND a_status='%2%']> AND upper(object_name) LIKE upper('<SUBST[%3%]>%') ORDER BY 1,r_object_id
changesets.adminlist=SELECT distinct upper(object_name) <SUBST[,%0%]> FROM wcm_change_set where owner_name in (Select user_name from dm_user where user_name in (select i_all_users_names from dm_group where group_name ='<SUBST[%1%]>')) AND a_is_hidden = false AND a_archive = false AND auto_ind = 0<SUBST[ AND a_status='%2%']> AND upper(object_name) LIKE upper('<SUBST[%3%]>%') ORDER BY 1,r_object_id
changesets.report=SELECT distinct upper(object_name) <SUBST[,%0%]> FROM wcm_change_set where<SUBST[ owner_name='%1%' AND]> a_is_hidden = false AND a_archive = false AND auto_ind = 0<SUBST[ AND a_status='%2%']> AND upper(object_name) LIKE upper('<SUBST[%3%]>%') ORDER BY 1,r_object_id
changesets.finddocchannel=select r_object_id, acl_name, acl_domain from wcm_channel where r_object_id in (select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject(all) where r_object_id = '<SUBST[%0%]>'))

#Approved Change Set Files List
changeset.files.approved=SELECT upper(object_name) <SUBST[,%0%]> FROM dm_document (ALL) where FOLDER (ID('<SUBST[%1%]>')) AND (ANY r_version_label='<SUBST[%1%]>') order by 1,r_object_id

#Change Set Files List
changeset.files=SELECT upper(object_name) <SUBST[,%0%]> FROM dm_document where FOLDER (ID('<SUBST[%1%]>')) AND a_is_hidden = false AND a_archive = false ORDER BY 1,r_object_id

#Change Set View Selected Files List
changeset.addfile.viewselected=select upper(object_name) <SUBST[,%0%]> from dm_document where <SUBST[%1%]> and a_is_hidden=false and a_archive=false order by 1,r_object_id

#Change Set Supporting Files List
changeset.supportingfiles=SELECT upper(object_name) <SUBST[,%0%]> FROM dm_document where FOLDER (ID('<SUBST[%1%]>')) AND a_is_hidden = false AND a_archive = false ORDER BY 1,r_object_id
changeset.supportingfiles.wp=SELECT upper(object_name) <SUBST[,%0%]> FROM dm_document where FOLDER (ID('<SUBST[%1%]>')) AND a_controlling_app='dm_wcm' AND a_is_hidden = false AND a_archive = false ORDER BY 1,r_object_id
changeset.supportingfiles.nonwp=SELECT upper(object_name) <SUBST[,%0%]> FROM dm_document where FOLDER (ID('<SUBST[%1%]>')) AND a_controlling_app<>'dm_wcm' AND a_is_hidden = false AND a_archive = false ORDER BY 1,r_object_id

#User Change Sets
changeset.user=SELECT object_name, r_object_id from wcm_change_set where folder (ID ('<SUBST[%0%]>')) and NOT a_status='<SUBST[%1%]>' and auto_ind=0  and a_special_app <> '1' ORDER BY object_name

#Count of Objects contained in Change Set
changeset.object.count=SELECT count(*) as cnt FROM dm_document where FOLDER (ID('<SUBST[%0%]>')) AND a_is_hidden = false AND a_archive = false

#Object List View
objectlist.default=select upper(object_name)<SUBST[,%0%]>,'1' as isfolder from dm_cabinet where (is_private=0 or owner_name=USER) and a_is_hidden=false and not type(wcm_channel) and not type(wcm_edition) and object_name<>'WebPublisher Configuration' order by 1,r_object_id

#subscriptions page - notification events
subscription.notificationevents=select event from dmi_registry where registered_id_i in (select all i_chronicle_id from dm_sysobject(all) where r_object_id = ID('<SUBST[%0%]>')) and user_name = USER

#Protected Assets
protected.bp=select <SUBST[%0%]> from dm_policy  where r_definition_state=2 and acl_name='<SUBST[%1%]>' order by object_name
protected.wf=select <SUBST[%0%]> from dm_process  where r_definition_state=2 and acl_name='<SUBST[%1%]>' order by object_name
protected.category=select <SUBST[%0%]> from wcm_category where folder('<SUBST[%1%]>',descend) and acl_name='<SUBST[%2%]>' order by object_name
protected.contenttemplates=select <SUBST[%0%]> from dm_document where folder('<SUBST[%1%]>',descend) and acl_name='<SUBST[%2%]>' order by object_name
protected.supportingtemplate=select <SUBST[%0%]> from dm_document where folder('<SUBST[%1%]>',descend) and acl_name='<SUBST[%2%]>' order by object_name
protected.removebp=select r_policy_id from dm_document where r_policy_id='<SUBST[%0%]>'
protected.removewf=select process_id from dm_workflow where process_id='<SUBST[%0%]>'

#Admin console
admin.systemalerts=select item_id, stamp, date_sent, message from dmi_queue_item where name='dm_dbo' and delete_flag=0 and event like 'wcmerror%' order by date_sent,item_id desc
admin.deletealert=SELECT item_id from dmi_queue_item where stamp='<SUBST[%0%]>' and event like 'wcmerror%' and delete_flag=0
alerts.clearall=select item_id,stamp from dmi_queue_item where name='dm_dbo' and delete_flag=0 and event like 'wcmerror%'
#Reports
allwp.workflow=select distinct <SUBST[%0%]> from dm_process where folder ('<SUBST[%1%]>') order by r_definition_state DESC, object_name
notwp.workflow=select distinct <SUBST[%0%]> from dm_process where r_object_id not in (select r_object_id from dm_process where FOLDER('/System') OR FOLDER ('/Resources', DESCEND) OR ( FOLDER('/System/DistributionList Templates', DESCEND) AND  (object_name like 'dmSendToDistributionList%' OR object_name like 'dmSendToList%'))) order by r_definition_state DESC, object_name
allusersgroups=select user_name from dm_user ORDER BY 1 ASC
allwp.jobs=select object_name, r_object_id, method_name, a_current_status, is_inactive, a_last_completion, a_next_invocation FROM dm_job WHERE title='WebPublisher' ORDER BY a_last_completion,r_object_id
allwcmchannel=select r_object_id, object_name from wcm_channel ORDER BY object_name
#channelpublishconfig=select c.r_object_id, c.object_name, rt.version_labels, rt.source_formats, rt.source_attrs, rt.target_id FROM dm_webc_config c, dm_webc_config_r rt WHERE c.is_active=1 AND c.r_object_id = rt.r_object_id AND rt.i_position = -1 AND rt.target_id not in ( select r_object_id from dm_webc_target where any a_extended_properties = 'REPLICATION_TARGET') AND source_folder_id = '<SUBST[%0%]>' ORDER BY object_name,r_object_id
channelpublishconfig=select r_object_id, object_name, version_labels, source_formats, source_attrs, target_id FROM dm_webc_config WHERE is_active=1 AND source_folder_id = '<SUBST[%0%]>' ORDER BY object_name,r_object_id
webcachetarget=select target_root_dir, target_virtual_dir from dm_webc_target where r_object_id ='<SUBST[%0%]>'
allwp.installedworkflow=select r_object_id,object_name from dm_process where folder ('<SUBST[%0%]>') and  r_definition_state=2 order by object_name
wpwf.activity=select object_name,exec_method_id from dm_activity where exec_type=1 and r_object_id in (select r_act_def_id from dm_process  where folder('<SUBST[%0%]>') and r_object_id='<SUBST[%1%]>') order by object_name
wpwf.activity.method=select object_name,method_verb,method_type from dm_method where r_object_id='<SUBST[%0%]>'
report.lifecycles.all=select r_object_id,object_name, included_type, state_name, alias_set_ids, r_definition_state, r_object_id, i_state_no from dm_policy ORDER BY object_name, r_object_id,i_state_no
report.deliverycabinet.all=SELECT object_name, r_object_id, r_object_type, subject, i_is_reference FROM wcm_channel WHERE (is_private = 0) AND a_is_hidden = false AND a_archive = false ORDER BY object_name
report.invalidobjects.all=SELECT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document WHERE (any i_folder_id in (select r_object_id from wcm_channel_fld where any i_ancestor_id in (select r_object_id from wcm_channel_fld)) OR any i_folder_id in (select r_object_id from wcm_channel)) AND r_policy_id='<SUBST[%2%]>'ORDER BY object_name,r_object_id
report.invalidobjects.cabinet=SELECT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document WHERE FOLDER(ID('<SUBST[%1%]>'), DESCEND) AND r_policy_id='<SUBST[%2%]>' ORDER BY object_name,r_object_id
report.listobjects=SELECT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document(ALL) WHERE FOLDER(ID('<SUBST[%1%]>'), DESCEND) AND a_is_hidden = false AND a_archive = false
report.activeall_staged_objects= AND ANY upper(r_version_label) in ('<SUBST[%0%]>') ORDER BY object_name,r_object_id
report.active_user_objects= AND ANY upper(r_version_label) in ('<SUBST[%0%]>') AND owner_name = '<SUBST[%1%]>' ORDER BY object_name,r_object_id
report.promotetoactiveobjects= AND ANY upper(r_version_label) in ('<SUBST[%0%]>') AND ANY a_effective_date >= date('<SUBST[%1%]>', 'mm/dd/yyyy') AND ANY a_effective_date < date('<SUBST[%2%]>', 'mm/dd/yyyy') ORDER BY object_name,r_object_id
report.abouttoactiveobjects= AND ANY upper(r_version_label) in ('<SUBST[%0%]>') AND ANY a_effective_date >= date('<SUBST[%1%]>', 'mm/dd/yyyy') AND ANY a_effective_date < date('<SUBST[%2%]>', 'mm/dd/yyyy') AND r_object_id not in ( select r_object_id from dm_document (all) where ANY upper(r_version_label) in ('<SUBST[%3%]>') and FOLDER (ID('<SUBST[%4%]>'),DESCEND) ) ORDER BY object_name,r_object_id
report.abouttoexpireobjects= AND ANY upper(r_version_label) in ('<SUBST[%0%]>') AND ANY a_expiration_date >= date('<SUBST[%1%]>', 'mm/dd/yyyy') AND ANY a_expiration_date < date('<SUBST[%2%]>','mm/dd/yyyy') ORDER BY object_name,r_object_id
report.translation.workflow=select <SUBST[%0%]> from wcm_locale where folder('<SUBST[%1%]>') and default_workflow != ' ' ORDER BY r_object_id

# allusers with case-insensitive name sort
allusers=SELECT user_name,LOWER(user_name),r_object_id FROM dm_user WHERE r_is_group=0 ORDER BY 2 ASC
allwp.contenttemplates=select DISTINCT r_object_id, object_name, language_code, r_version_label from dm_document where FOLDER('<SUBST[%0%]>', DESCEND) order by object_name
allwp.contenttemplates.folderid=select r_object_id,i_folder_id from dm_document where r_object_id = '<SUBST[%0%]>' ORDER BY r_object_id
allwp.contenttemplates.folderpath=select r_object_id,r_folder_path from dm_folder where r_object_id in ('<SUBST[%0%]>') and  FOLDER('<SUBST[%1%]>', DESCEND) ORDER BY r_object_id
allwp.contenttemplates.associations=select r_object_id,object_name,relation_name from dm_document d, dm_relation r where d.i_chronicle_id_i = r.child_id and r.parent_id = ID('<SUBST[%0%]>') and relation_name in ('<SUBST[%1%]>', '<SUBST[%2%]>', '<SUBST[%3%]>', '<SUBST[%4%]>') ORDER BY d.object_name,d.r_object_id
allwp.contenttemplate.defaultwf=select r_object_id,object_name from dm_process where r_object_id in(select child_id from dm_relation where relation_name='<SUBST[%0%]>' and parent_id='<SUBST[%1%]>') ORDER BY object_name,r_object_id
allwp.contenttemplates.status=select r_object_id,object_name,r_version_label from dm_document where r_object_id ='<SUBST[%0%]>' ORDER BY object_name,r_object_id

#Site overview
siteoverview.editionslist=select r_object_id, object_name, language_code, r_creation_date, title from wcm_edition w, dm_cabinet c where w.channel_id='<SUBST[%0%]>' and w.channel_id = c.r_object_id and w.a_is_hidden = false and w.a_archive = false order by w.r_creation_date DESC

#where used
whereused=SELECT <SUBST[%0%]> FROM dm_document <SUBST[%3% ]> d1 WHERE a_is_hidden = false AND a_archive = false AND a_special_app <> ' '<SUBST[ AND ANY r_version_label IN (%2%)]> AND r_object_id IN (SELECT parent_id FROM dm_relation WHERE<SUBST[ relation_name = '%4%' AND]> child_id='<SUBST[%1%]>')<SUBST[ AND language_code IN (%5%)]> ORDER BY object_name,r_object_id
whereused.template=SELECT <SUBST[%0%]> FROM dm_document <SUBST[%3% ]> d1 WHERE a_is_hidden = false AND a_archive = false<SUBST[ AND ANY r_version_label IN (%2%)]> AND r_object_id IN (SELECT parent_id FROM dm_relation WHERE<SUBST[ relation_name = '%4%' AND]> child_id='<SUBST[%1%]>')<SUBST[ AND language_code IN (%5%)]> ORDER BY object_name,r_object_id

#Apply Presentation
applypresentation=SELECT <SUBST[%0%]> FROM dm_document d1 WHERE a_is_hidden = false AND a_archive = false AND (NOT FOLDER('/WebPublisher Configuration/Content Templates', DESCEND)) AND (NOT FOLDER('/WebPublisher Configuration/Supporting Templates/Editor Rules', DESCEND)) AND ANY r_version_label in (<SUBST[%1%]>) AND r_object_id IN (SELECT parent_id FROM dm_relation WHERE (relation_name = 'wcm_layout_template' OR relation_name ='wcm_publishing_template') AND child_id='<SUBST[%2%]>') ORDER BY object_name,r_object_id

#Add New Rule
alllocale.addnewrule=select r_object_id,language_code,title from wcm_locale where folder ('<SUBST[%0%]>') order by title

# Folder Deep Promote
promote.deeppromote=select <SUBST[%0%]> from dm_document where FOLDER('<SUBST[%1%]>',descend) and i_is_replica=false


#Workflow
workflow.getpackage=select <SUBST[%0%]> from dmi_package where r_workflow_id='<SUBST[%1%]>'

#Job
job.arguments=select r_object_id, object_name, method_trace_level, method_arguments from dm_job where r_object_id='<SUBST[%0%]>'

#Edition
edition.channelfld=select r_object_id from <SUBST[%0%]> where Folder(ID('<SUBST[%1%]>'))
edition.fallback.docs=select r_object_id from dm_document (ALL) d WHERE FOLDER(ID('<SUBST[%0%]>')) AND ANY r_version_label='<SUBST[%1%]>' AND (d.language_code='<SUBST[%2%]>' <SUBST[ OR (d.language_code IN (%3%) AND d.r_object_id NOT IN (SELECT r.parent_id FROM dm_relation r WHERE r.parent_id = d.r_object_id AND r.relation_name = 'DM_TRANSLATION_OF' AND r.child_id in]><SUBST[ (SELECT d2.i_chronicle_id FROM dm_document d2 WHERE d2.language_code IN (%3%)))))]> ORDER BY 1
edition.docs=select r_object_id from dm_document (ALL)  where Folder(ID('<SUBST[%0%]>')) and (ANY r_version_label ='<SUBST[%1%]>') ORDER BY r_object_id
edition.alleditionfld=select r_object_id,object_name from wcm_edition_fld where Folder(ID('<SUBST[%0%]>'))
edition.editionfld.docs=select r_object_id,i_reference_cnt from dm_document (ALL) where Folder(ID('<SUBST[%0%]>'))
edition.channelid=select r_object_id from wcm_channel where object_name='<SUBST[%0%]>'

editionlist.content=SELECT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document (ALL) WHERE a_is_hidden = false AND FOLDER(ID('<SUBST[%1%]>')) ORDER BY 1,2
editionlist.folder=SELECT UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder FROM wcm_edition_fld WHERE a_is_hidden = false AND FOLDER(ID('<SUBST[%1%]>')) ORDER BY 1,2
editionlist.folderandcontent=SELECT 1,UPPER(object_name)<SUBST[,%0%]>,'1' AS isfolder FROM wcm_edition_fld WHERE a_is_hidden = false AND FOLDER(ID('<SUBST[%1%]>')) UNION SELECT 2,UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder FROM dm_document (ALL) WHERE a_is_hidden = false AND FOLDER(ID('<SUBST[%1%]>')) ORDER BY 1,2

#Subscriptions
# Argument list
# 0 - Attribute List
# 1 - Object name filter (Starts with)
# 2 - Version Label/Status Filter
# 3 - "(All)" keyword, use with #2
# 4 - language code filter
subscriptions=select distinct upper(object_name)<SUBST[, %0%]>, '1' as isfolder,'y' AS selectable from dm_folder where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app<>'dm_wcm'<SUBST[ AND lower(object_name) LIKE lower('%1%%')]> union select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder,'y' AS selectable from dm_sysobject where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app<>'dm_wcm' and not TYPE(dm_folder)<SUBST[ AND lower(object_name) LIKE lower('%1%%')]> order by 1,2
subscriptions.folder=select distinct upper(object_name)<SUBST[, %0%]>, '1' as isfolder from dm_folder where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app<>'dm_wcm'<SUBST[ AND lower(object_name) LIKE lower('%1%%')]> order by 1,2
subscriptions.doc=select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder from dm_sysobject where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app<>'dm_wcm' and not TYPE(dm_folder)<SUBST[ AND lower(object_name) LIKE lower('%1%%')]> order by 1,2
subscriptions.wp=select distinct upper(object_name)<SUBST[, %0%]>, '1' as isfolder, '<SUBST[%5%]>' AS selectable from dm_folder where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm'<SUBST[ AND lower(object_name) LIKE lower('%1%%')]> union select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder,'y' AS selectable from dm_document<SUBST[ %3%]> where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm' and not CABINET('/WebPublisher Configuration', DESCEND)<SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ AND ANY r_version_label IN (%2%)]><SUBST[ AND language_code IN (%4%)]> union select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder,'y' AS selectable from dm_document where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm' and CABINET('/WebPublisher Configuration', DESCEND)<SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ AND language_code IN (%4%)]> order by 1,2
subscriptions.wp.folder=select distinct upper(object_name)<SUBST[, %0%]>, '1' as isfolder from dm_folder where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm'<SUBST[ AND lower(object_name) LIKE lower('%1%%')]> order by 1,2
subscriptions.wp.doc=select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder ,'<SUBST[%5%]>' AS selectable from dm_document<SUBST[ %3%]> where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm' and not CABINET('/WebPublisher Configuration', DESCEND)<SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ AND ANY r_version_label IN (%2%)]><SUBST[ AND language_code IN (%4%)]> union select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder ,'<SUBST[%5%]>' AS selectable from dm_document where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm' and CABINET('/WebPublisher Configuration', DESCEND)<SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ AND language_code IN (%4%)]> order by 1,2
subscriptions.cs=select distinct upper(object_name)<SUBST[, %0%]>, '0' as isfolder,'y' AS selectable from dm_document<SUBST[ %3%]> where r_object_id IN (select parent_id from dm_user u, dm_relation r where r.relation_name='dm_subscription' and u.user_name = USER and u.r_object_id = r.child_id) and a_controlling_app='dm_wcm' and not CABINET('/WebPublisher Configuration', DESCEND) AND i_is_replica=false AND i_is_reference=false AND a_special_app IN ('0','1','2','3','4','5') AND (r_lock_owner=USER OR r_lock_owner=' ')<SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ AND ANY r_version_label IN (%2%)]><SUBST[ AND language_code IN (%4%)]> order by 1,2

# My Files
# Argument list
# 0 - Attribute List
# 1 - Modified within day(s)
# 2 - Created within day(s)
# 3 - Object name filter (Starts with)
# 4 - Version Label/Status Filter
# 5 - "(All)" keyword, use with #2
# 6 - language code filter
myfiles=SELECT UPPER(object_name)<SUBST[, %0%]>, '0' AS isfolder ,'y' AS selectable FROM dm_document WHERE a_is_hidden = false AND (r_lock_owner=USER OR (r_modifier=USER<SUBST[ AND DATEDIFF(day, r_modify_date, DATE(TODAY)) <= %1%]>)<SUBST[ OR (r_creator_name=USER AND DATEDIFF(day, r_creation_date, DATE(TODAY)) <= %2%)]>) AND a_controlling_app <> 'dm_wcm'<SUBST[ AND lower(object_name) LIKE lower('%3%%')]> ORDER by 1,2
myfiles.wp=SELECT UPPER(object_name)<SUBST[, %0%]>, '0' AS isfolder, 'y' AS selectable FROM dm_document<SUBST[ %5%]> WHERE a_is_hidden = false AND (r_lock_owner=USER OR (r_modifier=USER<SUBST[ AND DATEDIFF(day, r_modify_date, DATE(TODAY)) <= %1%]>)<SUBST[ OR (r_creator_name=USER AND DATEDIFF(day, r_creation_date, DATE(TODAY)) <= %2%)]>) AND a_controlling_app='dm_wcm' AND (a_special_app IN ('6','7','8','9','a','b') OR NOT CABINET('/WebPublisher Configuration', DESCEND))<SUBST[ AND lower(object_name) LIKE lower('%3%%')]><SUBST[ AND ANY r_version_label IN (%4%)]><SUBST[ AND language_code IN (%6%)]> UNION SELECT UPPER(object_name)<SUBST[, %0%]>, '0' AS isfolder, 'y' AS selectable FROM dm_document WHERE a_is_hidden = false AND (r_lock_owner=USER OR (r_modifier=USER<SUBST[ AND DATEDIFF(day, r_modify_date, DATE(TODAY)) <= %1%]>)<SUBST[ OR (r_creator_name=USER AND DATEDIFF(day, r_creation_date, DATE(TODAY)) <= %2%)]>) AND a_controlling_app='dm_wcm' AND NOT a_special_app IN ('6','7','8','9','a','b') AND CABINET('/WebPublisher Configuration', DESCEND)<SUBST[ AND lower(object_name) LIKE lower('%3%%')]><SUBST[ AND language_code IN (%6%)]> ORDER by 1,2
myfiles.cs=SELECT UPPER(object_name)<SUBST[, %0%]>, '0' AS isfolder,'y' AS selectable FROM dm_document<SUBST[ %5%]> WHERE i_is_replica=false AND i_is_reference=false AND a_is_hidden = false AND (r_lock_owner=USER OR (r_modifier=USER<SUBST[ AND DATEDIFF(day, r_modify_date, DATE(TODAY)) <= %1%]>)<SUBST[ OR (r_creator_name=USER AND DATEDIFF(day, r_creation_date, DATE(TODAY)) <= %2%)]> AND r_lock_owner=' ') AND a_controlling_app='dm_wcm' AND NOT CABINET('/WebPublisher Configuration', DESCEND) AND a_special_app IN ('0','1','2','3','4','5')<SUBST[ AND lower(object_name) LIKE lower('%3%%')]><SUBST[ AND ANY r_version_label IN (%4%)]><SUBST[ AND language_code IN (%6%)]> ORDER by 1,2

# Public supporting files
publicsupportingfiles=SELECT UPPER(object_name)<SUBST[, %0%]>, '0' AS isfolder FROM dm_document WHERE FOLDER('/WebPublisher Configuration/Change Set Supporting Files') ORDER BY 1,2

# Private supporting files
usersupportingfiles=SELECT UPPER(object_name)<SUBST[, %0%]>, '0' AS isfolder FROM dm_document WHERE FOLDER(ID('<SUBST[%1%]>')) ORDER BY 1,2

# wp role model
wprole.all=select g1.group_name from dm_group g1, dm_group g2 where g1.group_class='role' and g2.group_name='wcm' and g2.group_class='domain' and ANY g2.groups_names = g1.group_name
wprole.parent=select group_name from dm_group where group_class = 'role' and ANY groups_names = '<SUBST[%0%]>'

# clipboard query
wpclipboard=select r_object_id,object_name,r_object_type,a_content_type,a_special_app,r_version_label,r_modify_date,language_code,r_link_cnt,r_is_virtual_doc,r_lock_owner,i_is_reference from dm_sysobject (all) where a_controlling_app='dm_wcm' and <SUBST[%0%]> ORDER BY r_object_id
wpclipboard.query=select r_object_id,object_name,r_object_type,a_content_type,a_special_app,r_version_label,r_modify_date,language_code,r_link_cnt,r_is_virtual_doc,r_lock_owner,i_is_reference,i_is_replica from dm_sysobject (all) where <SUBST[%0%]> ORDER BY r_object_id
wpclipboard.alldependentrelations=SELECT DISTINCT(d.r_object_id), '0' AS isfolder from dm_document d where d.r_object_id in ( <SUBST[%0%]>) and (( d.i_chronicle_id in ( select DISTINCT r1.child_id from dm_relation r1 where r1.relation_name in ( <SUBST[%1%]>) )) or (d.r_object_id in ( select DISTINCT r2.parent_id from dm_relation r2 where r2.relation_name in ( <SUBST[%1%]> )) ) or (d.i_chronicle_id in ( select child_id from dm_relation where  relation_name in ('wcm_link','wcm_editor_link','wcm_ewebeditpro_link'))))
wpclipboard.moveallversions=select r_object_id, '0' AS isfolder from dm_document where i_chronicle_id in ( select i_chronicle_id from dm_document (all) where i_chronicle_id in (Select i_chronicle_id from dm_document where r_object_id in (<SUBST[%0%]>) ) and any r_version_label in (<SUBST[%1%]>) ) ORDER BY r_object_id
wpclipboard.allcontainedobjects=select r_object_id, '0' AS isfolder FROM dm_document WHERE FOLDER( ID('<SUBST[%0%]>'), descend) and any r_version_label in (<SUBST[%1%]>)
wpclipboard.containedobjectsallversions=select r_object_id, '0' AS isfolder FROM dm_document(all) WHERE FOLDER( ID('<SUBST[%0%]>'), descend) and any r_version_label in (<SUBST[%1%]>)

# monitor job server method
monitor-job.approvedtoactive=select r_object_id, object_name from dm_document(all) where any r_version_label = '<SUBST[%0%]>' and (any (a_effective_date is null and i_position = -1) or any (a_effective_date is nulldate) or any (a_effective_date is not nulldate and a_effective_date <= date(now))) and not any r_version_label in ('<SUBST[%1%]>', '<SUBST[%2%]>') and a_special_app in ('2', '5', '8', 'b') and i_is_replica=false and i_is_reference=false ORDER BY r_object_id
monitor-job.activetoexpired=select r_object_id, object_name from dm_document(all) where any a_expiration_date is not nulldate and any a_expiration_date <= date(now) and any r_version_label in ('<SUBST[%0%]>') and i_is_replica=false and i_is_reference=false ORDER BY r_object_id
monitor-job.sendexpirenotice=select r_object_id, object_name, a_expiration_date from dm_document(all) where any (a_expiration_date is not nulldate and a_expiration_date > date(now) and a_expiration_date <= dateadd(day,<SUBST[%0%]>,date(now)) and any r_version_label in ('<SUBST[%1%]>') and not any a_effective_flag = 'sent') and i_is_replica=false and i_is_reference=false ORDER BY r_object_id

# dynamic content job method
dynamic-content-job.query=select distinct r_object_id, object_name from dm_document(ALL) d where d.a_content_type='xml' and any d.r_version_label='<SUBST[%0%]>' and d.r_object_id in (select parent_id from dm_relation r where d.r_object_id=r.parent_id and r.relation_name='<SUBST[%1%]>') and d.i_is_replica=false and d.i_is_reference=false

# object bag job method
object-bag-job.objcount= SELECT new_obj_cnt FROM wcm_config where object_name='<SUBST[%0%]>'
object-bag-job.namedprefabobject=SELECT r_object_id FROM dm_document where FOLDER (ID('<SUBST[%0%]>')) AND object_name = '<SUBST[%1%]>'
object-bag-job.existingprefabobjects=SELECT r_object_id, object_name FROM dm_document where FOLDER (ID('<SUBST[%0%]>')) AND a_is_hidden = false AND a_archive = false ORDER BY object_name DESC
object-bag-job.recentlychangetemplates=SELECT r_object_id, i_vstamp, r_modify_date, object_name FROM dm_document (ALL)  where FOLDER ('<SUBST[%0%]>', DESCEND) AND a_is_hidden = false AND a_archive = false AND ANY r_version_label = '<SUBST[%1%]>' ORDER BY r_modify_date DESC

# start translation workflow
start-translation-workflow.tranlationlocalecode=select r_object_id, object_name from wcm_locale where object_name='<SUBST[%0%]>'
start-translation-workflow.tranlationcs=select r_object_id, subject, object_name from wcm_change_set where folder(ID('<SUBST[%0%]>')) AND subject='<SUBST[%1%]>'

# relations (fix case 449993)
relations.childmanualrelations=SELECT DISTINCT d.r_object_id<SUBST[,%0%]>,r.relation_name,'0' AS isfolder, '0' AS issystem FROM dm_document d,dm_relation r WHERE i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and parent_id='<SUBST[%1%]>') and d.i_chronicle_id=r.child_id
relations.allmanualrelations=SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '0' AS issystem FROM dm_document WHERE i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and parent_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '0' AS issystem FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and child_id='<SUBST[%3%]>') ORDER BY 1
relations.addmanualrelations_selected=SELECT UPPER(object_name)<SUBST[,%0%]>,'0' AS isfolder, '0' AS issystem FROM dm_document WHERE r_object_id in (<SUBST[%1%]>)
relations.viewalloftype=SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '0' AS isSystem FROM dm_document WHERE i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '0' AS isSystem FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name='<SUBST[%1%]>') ORDER BY 1
relations.relatedmedia=SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE r_object_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and parent_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and child_id='<SUBST[%1%]>') ORDER BY 1
relations.alldependentrelations=SELECT r_object_id, '0' AS isfolder FROM dm_document WHERE r_object_id in (<SUBST[%0%]>) and ((i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST['wcm_link','wcm_editor_link','wcm_ewebeditpro_link', %1%]>))) or (r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name in (<SUBST[%1%]>)))) ORDER BY 1
relations.dependentrelations=SELECT r_object_id, '0' AS isfolder FROM dm_document WHERE r_object_id in (<SUBST[%0%]>) and i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in ('wcm_link', 'wcm_editor_link','wcm_ewebeditpro_link')) ORDER BY 1
relation.sytstemlink=SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE r_object_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and parent_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE r_object_id in (select parent_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and child_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder,'1' AS issystem FROM dm_document WHERE i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in ('wcm_link','wcm_editor_link','wcm_ewebeditpro_link') and parent_id='<SUBST[%1%]>') ORDER BY 1
relation.alllink=SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '0' AS issystem FROM dm_document WHERE i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and parent_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '0' AS issystem FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and child_id='<SUBST[%3%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE r_object_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%4%]>) and parent_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name in (<SUBST[%4%]>) and child_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'0' AS isfolder, '1' AS issystem FROM dm_document WHERE i_chronicle_id in (SELECT child_id FROM dm_relation WHERE relation_name in ('wcm_link','wcm_editor_link','wcm_ewebeditpro_link') and parent_id='<SUBST[%1%]>') ORDER BY 1
relations.relatecategory=SELECT r_object_id<SUBST[,%0%]>,'1' AS isfolder, '1' AS issystem FROM dm_folder WHERE r_object_id in (SELECT child_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and parent_id='<SUBST[%1%]>') UNION SELECT r_object_id<SUBST[,%0%]>,'1' AS isfolder, '1' AS issystem FROM dm_folder WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name in (<SUBST[%2%]>) and child_id='<SUBST[%1%]>') ORDER BY 1

# related content for a list of files - child is linked object
relations.linkedchild=select <SUBST[%0%]> from dm_relation r, dm_document d where r.relation_name in (<SUBST[%1%]>,'wcm_editor_link','wcm_ewebeditpro_link') and r.parent_id in (<SUBST[%2%]>) and d.i_chronicle_id=r.child_id
relations.linkedchild.editoronly=select <SUBST[%0%]> from dm_relation r, dm_document d where r.relation_name in ('wcm_editor_link','wcm_ewebeditpro_link') and r.parent_id in (<SUBST[%2%]>) and d.i_chronicle_id=r.child_id
relations.linkedpagebuilderchild=select <SUBST[%0%]> from dm_relation r, dm_document d where r.relation_name in ('wcm_link') and r.parent_id in (<SUBST[%1%]>) and d.i_chronicle_id=r.child_id
relations.linkedpagebuilderchild.parentfolder=select <SUBST[%0%]> from <SUBST[%1%]> where r_object_id in (select i_folder_id from dm_document where r_object_id ='<SUBST[%2%]>') order by r_object_id ;
relations.pagebuilderlist=select <SUBST[%0%]> from dm_document where r_object_id in (<SUBST[%1%]>) and a_content_type = '<SUBST[%2%]>'

# related content for a list of files - parent is linked object
relations.linkedparent=select <SUBST[%0%]> from dm_relation r, dm_document d  where r.relation_name in (<SUBST[%1%]>) and r.child_id in (select distinct i_chronicle_id from dm_document where r_object_id in (<SUBST[%2%]>)) and d.i_chronicle_id = r.child_id

# template relation
template-relation=select d.r_object_id, r.description from dm_document d, dm_relation r where d.i_chronicle_id_i = r.child_id and r.parent_id = ID('<SUBST[%0%]>') and relation_name = '<SUBST[%1%]>'

# related content
relatedcontent.contains=select DISTINCT(r_object_id)<SUBST[,%0%]>,'0' AS isfolder,'1' AS issystem FROM dm_document where i_chronicle_id in (select distinct child_id from dm_relation where relation_name in ('wcm_link','wcm_editor_link', 'wcm_ewebeditpro_link') and parent_id='<SUBST[%1%]>') ORDER BY r_object_id
relatedcontent.containedin=select DISTINCT(r_object_id)<SUBST[,%0%]>,'0' AS isfolder,'1' AS issystem FROM dm_document(ALL) where r_object_id in (select distinct parent_id from dm_relation where relation_name in ('wcm_link','wcm_editor_link','wcm_ewebeditpro_link') and child_id='<SUBST[%1%]>') ORDER BY r_object_id
relatedcontent.containedin.exclude.wcm_link=select DISTINCT(r_object_id)<SUBST[,%0%]>,'0' AS isfolder,'1' AS issystem FROM dm_document where r_object_id in (select distinct parent_id from dm_relation where relation_name in ('wcm_editor_link','wcm_ewebeditpro_link') and child_id='<SUBST[%1%]>') ORDER BY r_object_id
relatedcontent.containedin.filter-wcm_link-parents=select DISTINCT(r_object_id)<SUBST[,%0%]>,'0' AS isfolder,'1' AS issystem FROM dm_document where language_code in (<SUBST[%1%]>) and r_object_id in (<SUBST[%2%]>) ORDER BY r_object_id
relatedcontent.contains.relationType=select DISTINCT(r_object_id)<SUBST[,%0%]>,'0' AS isfolder,'1' AS issystem FROM dm_document where i_chronicle_id in (select distinct child_id from dm_relation where relation_name='<SUBST[%1%]>' and parent_id='<SUBST[%2%]>') ORDER BY r_object_id

# all relations for expired now
relatedcontent.containedin.allrelations=select DISTINCT(r_object_id) from dm_document where r_object_id in (select distinct parent_id from dm_relation r, dm_document d  where r.child_id in (select distinct i_chronicle_id from dm_document where r_object_id in ('<SUBST[%0%]>')) and d.i_chronicle_id = r.child_id);
#expirenow.parent.relations=select DISTINCT(r_object_id) from dm_document where r_object_id in (select distinct parent_id from dm_relation r, dm_document d  where r.child_id in (select distinct i_chronicle_id from dm_document where r_object_id in ('<SUBST[%0%]>')) and d.i_chronicle_id = r.child_id);
#expirenow.parent.relations=select d.r_object_id, r.parent_id from dm_relation r, dm_document d where d.r_object_id in (<SUBST[%0%]>) and d.i_chronicle_id = r.child_id  order by d.r_object_id

expirenow.parent.relations=select d.r_object_id, r.parent_id from dm_relation r, dm_document d where d.r_object_id in (<SUBST[%0%]>) and d.i_chronicle_id = r.child_id and NOT r.parent_id IN (Select r_object_id from dm_category)  order by d.r_object_id

#editor link
editorlink.getallchildlist=select r_object_id from dm_document where i_chronicle_id in (select distinct child_id from dm_relation where relation_name='wcm_editor_link' and parent_id='<SUBST[%0%]>') ORDER BY r_object_id

#Publish Taxonomy
findchannel.taxonomy=select r_object_id,object_name from wcm_channel where r_object_id in(select parent_id from dm_relation where child_id='<SUBST[%0%]>' and relation_name='wcm_taxonomy_link');
findtaxonomyfolder=select r_object_id from  wcm_channel_fld where FOLDER (ID('<SUBST[%0%]>')) and object_name='Taxonomy'
findtaxonomyxmlfile=select r_object_id,object_name from dm_document where i_chronicle_id in(select child_id from dm_relation where relation_name = 'dm_xml_taxonomy' and parent_id='<SUBST[%0%]>') ORDER BY r_object_id
#Properties/categories tab
facet=SELECT DISTINCT UPPER(object_name)<SUBST[,%0%]> FROM dm_category WHERE r_object_id IN (SELECT parent_id FROM dm_category_assign WHERE child_id='<SUBST[%1%]>' AND assign_status LIKE 'assigned%')<SUBST[ AND FOLDER(ID('%2%'), DESCEND)]>') ORDER BY 1

#Properties/web cabinet tab
channeltaxonomy=select DISTINCT UPPER(s.object_name)<SUBST[,%0%]> from dm_relation r, wcm_channel s where r.child_id='<SUBST[%1%]>' and r.parent_id=s.r_object_id and r.relation_name='wcm_taxonomy_link' ORDER BY 1,2

#Properties/taxonomy tab
taxonomychannel=select DISTINCT UPPER(s.object_name)<SUBST[,%0%]> from dm_relation r, dm_taxonomy s where r.parent_id='<SUBST[%1%]>' and r.child_id=s.r_object_id and r.relation_name='wcm_taxonomy_link' ORDER BY 1,2

#Settings/Lifecycle
Lifecyclelist=select <SUBST[%0%]> from dm_policy  where r_definition_state=2 order by object_name

versionlabels=SELECT r_object_id,r_version_label,r_modify_date FROM dm_document(ALL) where i_chronicle_id_i = ID('<SUBST[%0%]>') AND a_is_hidden = false AND a_archive = false ORDER BY r_modify_date desc,r_object_id

wcmcontentupdate.instructions=select <SUBST[%0%]> from dm_document where folder('<SUBST[%1%]>')
wcmcontent.updatelist=SELECT r_object_id,object_name,r_object_type,r_lock_owner,owner_name,r_link_cnt,r_is_virtual_doc,r_content_size,a_content_type,a_special_app,r_version_label,title,language_code,r_modify_date,i_is_replica FROM dm_document  d1 WHERE a_is_hidden = false AND a_archive = false AND ANY r_version_label IN ('WIP','Staging','Approved','Active','Expired') AND r_object_id IN ( <SUBST[%0%]> ) ORDER BY object_name,r_object_id

#contentlist
# 0 - Attribute List
# 1 - Template ID
# 2 - Object name filter (Starts with)
# 3 - language code filter
# 4 - status filter
contentlist=SELECT <SUBST[%0%,]>r_modify_date FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name='wcm_doc_template' AND child_id in (SELECT r_object_id FROM dm_document (ALL) WHERE i_chronicle_id='<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false AND owner_name=USER AND NOT FOLDER('/WebPublisher Configuration/Object Bag')<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND language_code IN (%3%)]> ORDER BY r_modify_date DESC, r_object_id
contentlist.state=SELECT <SUBST[%0%,]>r_modify_date FROM dm_document (ALL) WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name='wcm_doc_template' AND child_id in (SELECT r_object_id FROM dm_document (ALL) WHERE i_chronicle_id='<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false AND owner_name=USER<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND language_code IN (%3%)]><SUBST[ AND ANY r_version_label = '%4%']> ORDER BY r_modify_date DESC, r_object_id
contentlist.WIP=SELECT <SUBST[%0%,]>r_modify_date FROM dm_document WHERE r_object_id in (SELECT parent_id FROM dm_relation WHERE relation_name='wcm_doc_template' AND child_id in (SELECT r_object_id FROM dm_document (ALL) WHERE i_chronicle_id='<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false AND owner_name=USER AND ANY r_version_label = 'WIP' AND NOT FOLDER('/WebPublisher Configuration/Object Bag')<SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND language_code IN (%3%)]> ORDER BY r_modify_date DESC, r_object_id

contentlist.nocategory=SELECT <SUBST[%0%,]>r_modify_date FROM dm_document (ALL) WHERE r_object_id NOT IN (SELECT parent_id from dm_relation where relation_name='wcm_category') AND a_is_hidden=false AND a_archive=false <SUBST[ AND lower(object_name) LIKE lower('%1%%')]><SUBST[ AND language_code IN (%2%)]><SUBST[ AND ANY r_version_label = '%3%']><SUBST[ AND FOLDER(ID('%4%'), DESCEND)]> ORDER BY r_modify_date DESC, r_object_id
contentlist.category=SELECT DISTINCT <SUBST[%0%,]>r_modify_date FROM dm_document (ALL) WHERE r_object_id IN (SELECT parent_id from dm_relation where relation_name='wcm_category' AND child_id IN (SELECT r_object_id FROM wcm_category where object_name='<SUBST[%1%]>')) AND a_is_hidden=false AND a_archive=false <SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND language_code IN (%3%)]><SUBST[ AND ANY r_version_label = '%4%']><SUBST[ AND FOLDER(ID('%5%'), DESCEND)]> ORDER BY r_modify_date DESC, r_object_id
contentlist.taxonomy=SELECT DISTINCT <SUBST[%0%,]>r_modify_date FROM dm_document (ALL) WHERE i_chronicle_id IN (SELECT child_id from dm_category_assign where parent_id IN (SELECT r_object_id FROM dm_category where object_name='<SUBST[%1%]>') AND assign_status LIKE 'assigned%') AND a_is_hidden=false AND a_archive=false <SUBST[ AND lower(object_name) LIKE lower('%2%%')]><SUBST[ AND language_code IN (%3%)]><SUBST[ AND ANY r_version_label = '%4%']><SUBST[ AND FOLDER(ID('%5%'), DESCEND)]> ORDER BY r_modify_date DESC, r_object_id
contentlist.attribute=SELECT DISTINCT <SUBST[%0%,]>r_modify_date FROM <SUBST[%1%]> (ALL) WHERE <SUBST[%2%]> AND a_is_hidden=false AND a_archive=false <SUBST[ AND lower(object_name) LIKE lower('%3%%')]><SUBST[ AND language_code IN (%4%)]><SUBST[ AND ANY r_version_label = '%5%']><SUBST[ AND FOLDER(ID('%6%'), DESCEND)]> ORDER BY r_modify_date DESC, r_object_id
contentlist.folder=SELECT DISTINCT <SUBST[%0%,]>r_modify_date FROM dm_document (ALL) WHERE FOLDER(ID('<SUBST[%1%]>')<SUBST[%2%]>) AND a_is_hidden=false AND a_archive=false <SUBST[ AND lower(object_name) LIKE lower('%3%%')]><SUBST[ AND language_code IN (%4%)]><SUBST[ AND ANY r_version_label = '%5%']> ORDER BY r_modify_date DESC, r_object_id

activeid=SELECT r_object_id FROM dm_sysobject (ALL) WHERE i_chronicle_id='<SUBST[%0%]>' AND ANY r_version_label='Active'
scsconfig.findfolderbased=select r_object_id, object_name from wcm_channel_fld where r_object_id in (select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject where r_object_id = '<SUBST[%0%]>')) and r_object_id in (select source_folder_id from dm_webc_config) order by r_object_id

#scsconfig.findfolderbased=select r_object_id, object_name from wcm_channel_fld where r_object_id in (select i_ancestor_id from dm_folder where r_object_id ='<SUBST[%0%]>') order by r_object_id
scsconfig.findfolderbased1=select r_object_id, object_name from wcm_channel_fld where r_object_id in (select i_ancestor_id from dm_folder where r_object_id ='<SUBST[%0%]>') order by r_object_id

# Post Replication Method
wcmPostReplication.missingRelation=SELECT DISTINCT i_chronicle_id FROM <SUBST[%0%]> (ALL) a WHERE FOLDER('<SUBST[%1%]>', DESCEND) AND r_object_id IN (SELECT parent_id FROM dm_relation WHERE relation_name='DM_TRANSLATION_OF') AND not exists (SELECT 1 FROM <SUBST[%2%]> b WHERE FOLDER('<SUBST[%3%]>', DESCEND) and r_object_id IN (SELECT parent_id FROM dm_relation WHERE relation_name='DM_TRANSLATION_OF') AND a.i_chronicle_id=b.i_chronicle_id)
wcmPostReplication.objVersions=SELECT r_object_id,language_code FROM <SUBST[%0%]> (ALL) WHERE i_chronicle_id='<SUBST[%1%]>' ORDER BY 1 DESC
wcmPostReplication.transObj.parent=SELECT r_object_id,child_id FROM dm_relation WHERE parent_id='<SUBST[%0%]>' AND relation_name='DM_TRANSLATION_OF'
wcmPostReplication.translations=SELECT i_chronicle_id,language_code FROM <SUBST[%0%]> WHERE FOLDER(ID('<SUBST[%1%]>')) AND object_name = '<SUBST[%2%]>' AND language_code IN (<SUBST[%3%]>)
wcmPostReplication.deleteCategory.select=SELECT r_object_id,parent_id,child_id FROM dm_relation
wcmPostReplication.deleteCategory.where=WHERE relation_name='wcm_category' AND i_is_replica=1 AND child_id NOT LIKE '0b<SUBST[%0%]>%'
wcmPostReplication.deleteCategory.delete=DELETE dm_relation OBJECT

# Portlet Builder
portal.navigationnode.default=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_folder where folder('<SUBST[%0%]>') and not type(pcm_portal_folder) and a_is_hidden=false and a_archive=false order by 1
portal.navigationnode.folder =select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_folder where folder(ID('<SUBST[%0%]>')) and not type(pcm_portal_folder) and a_is_hidden=false and a_archive=false order by 1
portal.navigationnode.template.root=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_folder where folder('<SUBST[%0%]>') and not TYPE(pcm_template_folder) and a_is_hidden=false and a_archive=false order by 1
portal.navigationnode.template.folder=select upper(object_name),r_object_id,object_name,r_object_type,r_link_cnt,r_lock_owner from dm_folder where folder(ID('<SUBST[%0%]>')) and not TYPE(pcm_template_folder) and a_is_hidden=false and a_archive=false order by 1

pcm.portallist=select 1,upper(object_name)<SUBST[,%0%]>,'1' as isfolder from dm_folder where FOLDER(ID('<SUBST[%1%]>')) and not type(pcm_portal_folder) union select 2,upper(object_name)<SUBST[,%0%]>,'0' as isfolder from pcm_portal_folder where FOLDER(ID('<SUBST[%1%]>')) order by 1,2
pcm.portletlist=select 1,upper(object_name)<SUBST[,%0%]>,'1' as isfolder from dm_folder where FOLDER(ID('<SUBST[%1%]>')) union select 2,upper(object_name)<SUBST[,%0%]>,'0' as isfolder from pcm_portlet where FOLDER(ID('<SUBST[%1%]>')) order by 1,2
pcm.portalportletlist=select upper(object_name)<SUBST[,%0%]>,'0' as isfolder from pcm_portlet where FOLDER(ID('<SUBST[%1%]>')) order by 1,2

portaltargets=SELECT upper(object_name)<SUBST[,%0%]> FROM pcm_deployment_target WHERE FOLDER(ID('<SUBST[%1%]>')) ORDER BY 1, 2

pcm.templatelist=select 1,upper(object_name)<SUBST[,%0%]>,'1' as isfolder from dm_folder where FOLDER(ID('<SUBST[%1%]>')) and not TYPE(pcm_template_folder) union select 2,upper(object_name)<SUBST[,%0%]>,'0' as isfolder from pcm_template_folder where FOLDER(ID('<SUBST[%1%]>')) order by 1,2
pcm.templateinheritancelist=select 1,upper(object_name)<SUBST[,%0%]>,'1' as isfolder from pcm_template where r_object_id in('<SUBST[%1%]>') order by 1,2
#union select 2,upper(object_name)<SUBST[,%0%]>,'0' as isfolder from pcm_template where FOLDER(ID('<SUBST[%1%]>')) order by 1,2

set_targets_outofsync.portlet=UPDATE pcm_deployment_target OBJECTS SET out_of_sync = true where ANY i_folder_id IN (select f.r_object_id from pcm_portal_folder f, pcm_portlet p where p.r_object_id='<SUBST[%0%]>' AND ANY p.i_folder_id = f.r_object_id)
set_targets_outofsync.portal=UPDATE pcm_deployment_target OBJECTS SET out_of_sync = true where FOLDER(ID('<SUBST[%0%]>'))

pcm.queryportlet.rendition=SELECT full_format,r_object_id, title, object_name FROM dm_sysobject (ALL), dmr_content, dm_store WHERE r_object_id = ID('<SUBST[%0%]>') AND ANY (parent_id=ID('<SUBST[%0%]>') AND page = 0) and dmr_content.storage_id=dm_store.r_object_id and full_format='<SUBST[%1%]>'

# Page Builder
# Find the files's all translations. The file is specified by folder id and object name.
pb.translations=SELECT UPPER(object_name)<SUBST[,%0%]> FROM dm_document WHERE FOLDER(ID('<SUBST[%1%]>')) AND UPPER(object_name) = UPPER('<SUBST[%2%]>') AND a_is_hidden=false AND a_archive=false
pb.linkedtranslation=select distinct r.child_id, d.r_object_id from dm_relation r, dm_document d where r.relation_name = 'wcm_link' and r.child_id in (select distinct i_chronicle_id from dm_document where object_name = '<SUBST[%0%]>' and folder('<SUBST[%1%]>') and d.i_chronicle_id = r.child_id) ;

pb.link.localizedparents=select DISTINCT(d.r_object_id) from dm_relation r, dm_document d WHERE r.child_id = '<SUBST[%0%]>' and r.relation_name = '<SUBST[%1%]>'<SUBST[%2%]> and d.r_object_id = r.parent_id and d.a_is_hidden = false and d.a_archive = false and ( d.language_code='<SUBST[%3%]>' or ( d.language_code in (<SUBST[%4%]>))) and d.r_object_id not in (select DISTINCT r1.parent_id from dm_relation r1 where r1.parent_id = d.r_object_id and r1.relation_name = 'DM_TRANSLATION_OF' and r1.child_id in (select d1.i_chronicle_id from dm_document d1 where d1.language_code in (<SUBST[%4%]>))) ORDER BY d.r_object_id
pb.link.parents=select DISTINCT(r_object_id) from dm_document where r_object_id in (select distinct parent_id from dm_relation where relation_name = '<SUBST[%0%]>' and child_id=(ID ('<SUBST[%1%]>'))<SUBST[%2%]>) ORDER BY r_object_id

# Server Method Post Lifecycle Action Handler
ServerMethodPostLifecycle.LifecycleSymbols=select wip_symbol,staging_symbol,approved_symbol,active_symbol,expired_symbol,delay_publish_active from wcm_config
ServerMethodPostLifecycle.FindVersionLabel=select object_name,i_chronicle_id from dm_document where r_object_id='<SUBST[%0%]>' and any r_version_label='<SUBST[%1%]>'
ServerMethodPostLifecycle.FindActiveVersion=select r_object_id from dm_document (all) where i_chronicle_id='<SUBST[%0%]>' and any r_version_label='<SUBST[%1%]>'
ServerMethodPostLifecycle.QueryDynamicContent=SELECT parent_id FROM dm_relation WHERE parent_id='<SUBST[%0%]>' AND relation_name='wcm_dynamic_content'
ServerMethodPostLifecycle.ObjectTopChannelsAll=select r_object_id, object_name from wcm_channel where asynch_publish = 0 AND r_object_id in (select i_ancestor_id from dm_folder where r_object_id in (select i_folder_id from dm_sysobject(all) where r_object_id = '<SUBST[%0%]>'))
ServerMethodPostLifecycle.LifecycleCacheServer=select r_object_id, object_name from dm_webc_config where is_active = 1 and any version_labels = '<SUBST[%0%]>' and source_folder_id = '<SUBST[%1%]>'
ServerMethodPostLifecycle.GetACLOwner=select owner_name from dm_acl where r_object_id='<SUBST[%0%]>'

#*****************************************************************************
#
# $Log:
#  108   Main       1.42.1.12.1.14.1.21.1.14 6/25/2008 5:06:59 PM    Vishal
#       Agrawal  fix for bug#163225, publishing fails when global publishing is
#       false
#  107   Main       1.42.1.12.1.14.1.21.1.13 11/27/2007 1:19:56 AM   Liu,
#       Tongjing   Fix bug 147616: rewrite method
#       findAndSendNotificationtoLinkedObject
#  106   Main       1.42.1.12.1.14.1.21.1.12 11/7/2007 6:26:59 PM    Malhotra,
#       Gaurav Checkin done for  FR 113589.. Enabling global publishing in Web
#       Publisher...
#  105   Main       1.42.1.12.1.14.1.21.1.11 7/25/2007 10:37:31 PM   Ling Ma
#            For bug 141873, the depending bug 142423 (server side) fixed the
#       problem so we don't need to change our dql. Rever back to
#       103.Originally server side said it is not a bug so we make the dql
#       changes in revision 104.
#  104   Main       1.42.1.12.1.14.1.21.1.10 7/14/2007 7:21:59 AM    Ling Ma
#            Fix Bug 141873: Running  Monitor_Lifecycles job converts the
#       content in Approved state which is having effective date in the future
#       to Active State
#  103   Main       1.42.1.12.1.14.1.21.1.9 6/30/2007 4:48:35 AM    Gary Tang
#           sort category class
#  102   Main       1.42.1.12.1.14.1.21.1.8 6/29/2007 1:30:50 PM
#       Govindaraju, Harsha Added r_object_id in the query.
#  101   Main       1.42.1.12.1.14.1.21.1.7 5/8/2007 1:30:37 AM     Alladi,
#       Pranitha Bug fix 133979, 105938
#  100   Main       1.42.1.12.1.14.1.21.1.6 5/4/2007 12:58:28 PM
#       Govindaraju, Harsha Create Categories with same name in the repository
#       (Bugs(FR): 82554, 82632)
#  99    Main       1.42.1.12.1.14.1.21.1.5 5/2/2007 6:34:10 AM     Ling Ma
#           Add dqls to get Clonable Channel list
#  98    Main       1.42.1.12.1.14.1.21.1.4 5/1/2007 3:36:35 AM     Alladi,
#       Pranitha Modified queries to show web cabinets for Web Cabinets node
#       and site templates for Site Templates node
#  97    Main       1.42.1.12.1.14.1.21.1.3 4/11/2007 6:38:56 AM    Ling Ma
#           Fix bug 131101 (Checkin notice 45348): remove the extra space in
#       "start with" input in dql
#  96    Main       1.42.1.12.1.14.1.21.1.2 3/31/2007 1:23:47 AM    Victor Zhuo
#           added queries for Server Method Post Lifecycle Action Handler
#  95    Main       1.42.1.12.1.14.1.21.1.1 3/27/2007 4:16:02 AM    Ling Ma
#           Add dql for channelnode.folderanddocument: get documents and
#       subfolders in a specified folder
#  94    Main       1.42.1.12.1.14.1.21.1.0 1/9/2007 6:49:15 AM     Ling Ma
#           Fix Bug 126178: Under webcabinets, if the filter is selected as
#       Folders Only, then checkboxes are not appearing in the file listing
#       page.
#  93    5.3.x      1.42.1.12.1.14.1.21 12/9/2006 6:00:50 AM    Albert Pinto
#       Fixed bug 127266
#  92    5.3.x      1.42.1.12.1.14.1.20 12/1/2006 4:12:06 AM    Albert Pinto
#       Fixed the query on subsciprtions.wp.doc to make subscriptions
#       selectable in the add supporting files to changeset
#  91    5.3.x      1.42.1.12.1.14.1.19 11/30/2006 5:16:56 AM   Albert Pinto
#       Bug 125184 unable to add files in my files and subcriptions, since the
#       check boxes are not showing up.
#  90    5.3.x      1.42.1.12.1.14.1.18 10/27/2006 1:40:12 AM   Ling Chen
#       add order by
#  89    5.3.x      1.42.1.12.1.14.1.17 10/20/2006 10:55:54 PM  Ling Chen
#       Externalize query strings for get page builder parents and component
#       parents.
#  88    5.3.x      1.42.1.12.1.14.1.16 10/7/2006 3:32:50 AM    Gary Tang
#       multisites.findwebcacheconfig support empty state argument.
#  87    5.3.x      1.42.1.12.1.14.1.15 9/21/2006 4:15:44 AM    Ling Ma
#       Update the dql for folder selectable for channellist, category,
#       subcriptions and my flies
#  86    5.3.x      1.42.1.12.1.14.1.14 7/22/2006 7:15:09 AM    Ling Chen
#       Fix more than one translation objects for a object in one locale bug
#       based on fallback rule.
#  85    5.3.x      1.42.1.12.1.14.1.13 7/21/2006 6:14:00 AM    Ling Chen
#       Page builder globalization support - Relations: Contained-In.
#  84    5.3.x      1.42.1.12.1.14.1.12 7/21/2006 3:08:22 AM    Gary Tang
#       Merge in Portlet Builder and Page Builder changes
#  83    5.3.x      1.42.1.12.1.14.1.11 5/19/2006 6:15:13 AM    Albert Pinto
#  82    5.3.x      1.42.1.12.1.14.1.10 11/8/2005 4:53:12 AM    Victor Zhuo
#       Case 449993: optimize show relations queries
#  81    5.3.x      1.42.1.12.1.14.1.9 7/29/2005 6:19:17 AM    Victor Zhuo
#       Fixed bug 104055
#  80    5.3.x      1.42.1.12.1.14.1.8 7/12/2005 9:10:22 AM    Victor Zhuo
#       queries for Post Replication Method
#  79    5.3.x      1.42.1.12.1.14.1.7 6/29/2005 3:47:22 AM    Gary Tang
#       Modify contentlist dqls to read Active symbol from argument (bug 82098)
#  78    5.3.x      1.42.1.12.1.14.1.6 5/5/2005 5:12:11 AM     Ling Chen
#       Fix bug 99079. After second save in editor or save in properties,
#       clicking the 'Web View' button after modifying the content does not
#       reflect on the displayed page.
#  77    5.3.x      1.42.1.12.1.14.1.5 2/24/2005 8:01:35 AM    Gary Tang
#       Add queries for editionlist (fix bug 92774)
#  76    5.3.x      1.42.1.12.1.14.1.4 2/15/2005 7:39:59 AM    Victor Zhuo
#       Fixed bug 91414: added i_is_reference to subscriptions.cs and
#       myfiles.cs
#  75    5.3.x      1.42.1.12.1.14.1.3 2/3/2005 7:34:08 AM     Gary Tang
#       Remove objectlist dqls that are same in Webtop
#  74    5.3.x      1.42.1.12.1.14.1.2 1/27/2005 8:26:14 AM    Gary Tang
#       Add r_lock_owner to channelnode query
#  73    5.3.x      1.42.1.12.1.14.1.1 1/21/2005 6:12:31 PM    Manav Leslie
#       Added i_is_replica to wcmcontent.updatelist query
#  72    5.3.x      1.42.1.12.1.14.1.0 1/15/2005 6:55:20 AM    Ling Chen
#       Fix bug 89454 and 89230. - dynamic content and filter replica from
#       change set add file.
#  71    5.3_Build4 1.42.1.12.1.14 12/18/2004 10:48:19 AM  Harsh Hatekar   bug
#       88222 fixed : workflow template list
#  70    5.3_Build4 1.42.1.12.1.13 12/14/2004 4:00:28 AM   Ji Wang         Bug
#       fix 85631 and 85580, change the query of (date <= end_date) to (date <
#       end_date + 1).
#  69    5.3_Build4 1.42.1.12.1.12 11/17/2004 4:49:34 AM   Ji Wang         Bug
#       fix 83543.  Apply date pattern of "mm/dd/yyyy" in DQL.
#  68    5.3_Build4 1.42.1.12.1.11 10/28/2004 4:37:25 AM   Harsh Hatekar
#       i_is_replica=false and i_is_reference=false condtions added in monitor
#       job add create dynamic content job queries
#  67    5.3_Build4 1.42.1.12.1.10 10/20/2004 2:33:23 AM   Ji Wang
#       Disable deep promote for replica objects
#  66    5.3_Build4 1.42.1.12.1.9 10/8/2004 6:19:33 AM    Gary Tang       Add
#       i_is_replica to query wpclipboard.query
#  65    5.3_Build4 1.42.1.12.1.8 7/22/2004 6:51:15 AM    Ji Wang         hide
#       hidden files in my files list.
#  64    5.3_Build4 1.42.1.12.1.7 6/4/2004 4:11:05 PM     Jayashree Udayasanker
#       Fix for bug 76658 which is feature request for adding begins with
#       filter for changeset
#  63    5.3_Build4 1.42.1.12.1.6 5/25/2004 7:32:53 AM    Gary Tang       Fix
#       bug 73429, My Files dql
#  62    5.3_Build4 1.42.1.12.1.5 5/6/2004 8:05:16 AM     Gary Tang
#       Comment out the logs
#  61    5.3_Build4 1.42.1.12.1.4 4/6/2004 12:34:52 PM    Jayashree Udayasanker
#       fix for bug 72187
#  60    5.3_Build4 1.42.1.12.1.3 4/5/2004 5:24:18 PM     Manav Leslie    added
#       relations.relatecategory for category to category relationships
#  59    5.3_Build4 1.42.1.12.1.2 4/2/2004 2:34:16 PM     Manav Leslie    New
#       queries for create edition job.
#  58    5.3_Build4 1.42.1.12.1.1 3/16/2004 5:57:45 AM    Harsh Hatekar
#       folderbased scs support added
#  57    5.3_Build4 1.42.1.12.1.0 2/13/2004 7:28:45 AM    Manav Leslie    Added
#       DQL to find to find channel_id
#  56    5.2.5      1.42.1.12    2/7/2004 5:35:43 AM     Gary Tang       Add
#       dql for contentlist
#  55    5.2.5      1.42.1.11    2/6/2004 5:57:12 AM     Jayashree Udayasanker
#       DQL for move all versions
#  54    5.2.5      1.42.1.10    1/30/2004 6:42:30 AM    Jayashree Udayasanker
#       fix for bug 71976
#  53    5.2.5      1.42.1.9     1/14/2004 1:47:03 AM    Manav Leslie
#       modified allwp.contenttemplates.folderpath to search with 'in'
#       condition and added folder constraint.
#  52    5.2.5      1.42.1.8     12/9/2003 6:52:49 AM    Gary Tang       fix
#       bug 71314, add r_object_id to the order by of
#       wcmcategory.folderandtemplate dql
#  51    5.2.5      1.42.1.7     11/13/2003 5:00:50 AM   Gary Tang       Modify
#       contentlist dqls to query on all version of templates
#  50    5.2.5      1.42.1.6     11/1/2003 8:54:35 AM    Gary Tang       Change
#       contentlist dqls
#  49    5.2.5      1.42.1.5     10/17/2003 2:23:39 AM   Gary Tang       modify
#       myfiles dqls to support recently created files
#  48    5.2.5      1.42.1.4     10/11/2003 3:34:16 AM   Gary Tang       Add
#       dqls for contentlist
#  47    5.2.5      1.42.1.3     10/2/2003 2:23:20 AM    Ji Wang         bug
#       fix 66484. Use owner_name to get the  query of
#       "report.active_user_objects"
#  46    5.2.5      1.42.1.2     9/27/2003 4:02:54 AM    Harsh Hatekar   query
#       for update xml contrent is modified
#  45    5.2.5      1.42.1.1     9/20/2003 6:35:43 AM    Ji Wang         query
#       change for eWebEditPro integration
#  44    5.2.5      1.42.1.0     9/12/2003 10:11:09 AM   Ling Chen       deep
#       promote
#  43    WebPublisher_5.0 1.42         8/9/2003 6:51:45 AM     Harsh Hatekar
#       added DB2 query changes- order by r_object_id fix to avoid the
#       duplicate resultset
#  42    WebPublisher_5.0 1.41         7/30/2003 11:56:39 PM   Gary Tang
#       Modify report.lifecycles.all
#  41    WebPublisher_5.0 1.40         7/30/2003 6:23:25 AM    Gary Tang
#       Add versionlabels dql
#  40    WebPublisher_5.0 1.39         6/21/2003 8:01:29 AM    Gary Tang
#       remove a useless line
#  39    WebPublisher_5.0 1.38         6/21/2003 3:41:20 AM    Gary Tang
#       Add locale filter to non-content in myfiles and subscription dql
#  38    WebPublisher_5.0 1.37         5/20/2003 7:21:05 AM    Harsh Hatekar
#       bug 58078, in wip state change lifecycle will be done on the
#       serverside, if user is a superuser then it will be done on the client
#       side
#  37    WebPublisher_5.0 1.36         5/15/2003 10:47:00 AM   Harsh Hatekar
#       send expire notice query is fixed
#  36    WebPublisher_5.0 1.35         5/15/2003 2:49:00 AM    Harsh Hatekar
#       fixed the query for the document based on a locale
#  35    WebPublisher_5.0 1.34         5/1/2003 2:11:25 AM     Harsh Hatekar
#       abt expired query fixed
#  34    WebPublisher_5.0 1.33         4/25/2003 11:09:20 AM   Ling Chen
#       Improve promote performance for linked files.
#  33    WebPublisher_5.0 1.32         4/25/2003 4:03:50 AM    Srinivas
#       Veldurthi added query for depndentlu linked docs for use in
#       "WcmRelationUtil.selectIdsWhichAreDependentlyLinked()" method
#  32    WebPublisher_5.0 1.31         4/17/2003 12:30:53 AM   Gary Tang
#       rename category.template to wcmcategory.template
#  31    WebPublisher_5.0 1.30         4/16/2003 9:09:11 AM    Harsh Hatekar
#       remove edition bug 61644 fixed
#  30    WebPublisher_5.0 1.29         4/16/2003 4:40:01 AM    John Huang
#       fix typo
#  29    WebPublisher_5.0 1.28         4/15/2003 8:21:56 AM    Srinivas
#       Veldurthi added wpclipboard.moveallversions
#  28    WebPublisher_5.0 1.27         4/2/2003 7:12:43 AM     Gary Tang
#       Add assign_status LIKE 'assigned%' to category dqls
#  27    WebPublisher_5.0 1.26         4/2/2003 2:06:06 AM     Gary Tang
#       category dqls use string value for iswcmroot virtual attribute
#  26    WebPublisher_5.0 1.25         4/1/2003 8:55:14 AM     Gary Tang
#       Add dql for properties taxonomies and webcabinet tab
#  25    WebPublisher_5.0 1.24         3/28/2003 8:30:01 AM    John Huang
#       add new query
#  24    WebPublisher_5.0 1.23         3/26/2003 2:31:15 AM    Gary Tang
#       add facet
#  23    WebPublisher_5.0 1.22         3/26/2003 1:49:48 AM    Ji Wang
#       add relations.relatedmedia
#  22    WebPublisher_5.0 1.21         3/25/2003 9:19:37 AM    Harsh Hatekar
#       query fixed for publishing taxonomy
#  21    WebPublisher_5.0 1.20         3/20/2003 6:53:19 AM    Harsh Hatekar
#       taxonomy queries added
#  20    WebPublisher_5.0 1.19         3/20/2003 2:20:27 AM    John Huang
#       move query from wcmpublishingutil.java
#  19    WebPublisher_5.0 1.18         3/18/2003 5:29:19 AM    Gary Tang
#       Add dqls to support taxonomy
#  18    WebPublisher_5.0 1.17         3/12/2003 6:03:57 AM    Srinivas
#       Veldurthi added query for all dependent relations for clipboard
#  17    WebPublisher_5.0 1.16         3/8/2003 5:33:41 AM     Ji Wang
#       Query Modified for LinkManagement
#  16    WebPublisher_5.0 1.15         3/7/2003 11:39:17 PM    Ling Chen
#       Only display menu change set In change set report. (different than 4.x
#       behavior).
#  15    WebPublisher_5.0 1.14         3/5/2003 2:04:40 AM     Ling Chen
#       translation workflow report
#  14    WebPublisher_5.0 1.13         3/1/2003 5:11:40 AM     Ling Chen
#       change sets report
#  13    WebPublisher_5.0 1.12         2/28/2003 10:16:08 AM   Harsh Hatekar
#       Method,Publishing configurations, Content rules location queries added
#  12    WebPublisher_5.0 1.11         2/28/2003 2:26:59 AM    Gary Tang
#       Add template-relation dql
#  11    WebPublisher_5.0 1.10         2/22/2003 2:46:26 AM    John Huang
#       add distinct keyword in getallwebcache query
#  10    WebPublisher_5.0 1.9          2/21/2003 3:12:01 AM    Ji Wang
#       add queries for link management
#  9     WebPublisher_5.0 1.8          2/14/2003 3:40:50 AM    Gary Tang
#       Add DISTINCT keyword to wcmchannel.document dql (fix bug 59048)
#  8     WebPublisher_5.0 1.7          2/12/2003 11:27:05 AM   Ji Wang
#       correct the query of report.abouttoexpireobjects
#  7     WebPublisher_5.0 1.6          2/12/2003 4:19:12 AM    Harsh Hatekar
#       added distinct predicate in the workflow list query
#  6     WebPublisher_5.0 1.5          2/4/2003 4:05:08 AM     Gary Tang
#       modify whereused query
#  5     WebPublisher_5.0 1.4          1/30/2003 2:14:09 PM    Ling Chen
#       Bug 58364. provide wp/non-wp supporting files view.
#  4     WebPublisher_5.0 1.3          1/29/2003 3:44:48 AM    Harsh Hatekar
#       rollback to earlier version
#  3     WebPublisher_5.0 1.2          1/28/2003 9:30:40 AM    Chee Wong
#       Retrieve target_id from web cache object
#  2     WebPublisher_5.0 1.1          1/28/2003 5:53:30 AM    Gary Tang
#       Modify subscriptions and my files query for non-wp objects to filter
#       out wp objects.
#  1     WebPublisher_5.0 1.0          1/23/2003 6:19:25 AM    Harsh Hatekar
# $
#
#*****************************************************************************
